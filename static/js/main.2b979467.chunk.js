(this["webpackJsonptelstra-3d-demo"]=this["webpackJsonptelstra-3d-demo"]||[]).push([[0],{30:function(e,t,r){},31:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var n=r(12),a=r.n(n),i=r(23),o=r.n(i),l=(r(30),r(31),r(0)),s=r(1),c=r(2),h=r(3),u=r(10),d=r(13),f=r(6),g=r(5),p=r(7),b=r(4),v=new b.K({roughness:.7,metalness:.7}),m=new b.B(new b.d(1,1,1),v),j=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).color=3909595,n}return Object(s.a)(r,[{key:"color",get:function(){return this._color},set:function(e){this.setInstanceUniform("diffuse",new b.i(e)),this._color=e}}]),r}(u.c);j.prototype.instancedThreeObject=m;var y,x={from:{rotateX:-Math.PI,rotateY:-Math.PI,rotateZ:-Math.PI},to:{rotateX:Math.PI,rotateY:Math.PI,rotateZ:Math.PI},duration:1e4,iterations:1/0},O=Object.assign({paused:!0},x),k=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;Object(l.a)(this,r),(n=t.call(this,e)).selectedColor=null;for(var a=[],i=0;i<4;i++)for(var o=0;o<4;o++)for(var s=0;s<4;s++)i*o*s!==0&&3!==i&&3!==o&&3!==s||a.push({color:64+i/4*128<<16|64+o/4*128<<8|64+s/4*128,x:i/3-.5,y:o/3-.5,z:s/3-.5});return n.children=n._childDef={facade:u.b,animation:x,children:{facade:p.b,data:a,template:{key:function(e){return e.color},facade:j,color:function(e){return e.color},x:function(e){return n.selectedColor===e.color?0:e.x},y:function(e){return n.selectedColor===e.color?0:e.y},z:function(e){return n.selectedColor===e.color?0:e.z},scale:function(e){return n.selectedColor===e.color?1.3:1/3/2},pointerStates:function(e){return n.selectedColor?{}:{hover:{scale:1/3/1.6}}},pointerEvents:!0,transition:{x:{duration:500,easing:"easeOutBounce"},y:{duration:500,easing:"easeOutBounce"},z:{duration:500,easing:"easeOutBounce"},scale:{duration:500,easing:"easeOutBounce"}}}}},n.onMouseOver=function(e){n.hovering=!0,n.afterUpdate()},n.onMouseOut=function(e){n.hovering=!1,n.afterUpdate()},n.onClick=function(e){n.onSelectColor(null==n.selectedColor?e.target.color:null)},n}return Object(s.a)(r,[{key:"afterUpdate",value:function(){var e=this._childDef;this.threeObject.visible=null!=this.offsetWidth,e.animation=this.hovering?O:x,this.x=this.offsetLeft+this.offsetWidth/2,this.y=-(this.offsetTop+this.offsetHeight/2),e.scale=Math.min(this.clientWidth,this.clientHeight)/Math.sqrt(2),Object(f.a)(Object(g.a)(r.prototype),"afterUpdate",this).call(this)}}]),r}(u.b),w=Object(d.b)(k),C=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"initThreeObject",value:function(){return new b.B(y||(y=new b.fb(.5,64,64)),new b.K({roughness:.5,metalness:.5}))}},{key:"texture",set:function(e){if(e!==this._texture){this._texture=e;var t=this.threeObject.material;t.map&&t.map.dispose(),t.map=e}}}]),r}(u.d),M=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e))._childDef={facade:C},n}return Object(s.a)(r,[{key:"afterUpdate",value:function(){var e=this._childDef;this.children=null==this.offsetWidth?null:e,this.x=this.offsetLeft+this.offsetWidth/2,this.y=-(this.offsetTop+this.offsetHeight/2),e.scale=Math.min(this.clientWidth,this.clientHeight),e.texture=this.texture,Object(f.a)(Object(g.a)(r.prototype),"afterUpdate",this).call(this)}}]),r}(u.b),S=Object(d.b)(M),z=r(24),_=r.n(z),P=r(25),D=r.n(P),T=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e,n){var a;return Object(l.a)(this,r),a=t.call(this),Array.isArray(e)?n=n||{}:"object"===typeof e&&(n=e,e=[]),n=n||{},a.update(e,n.closed),a}return Object(s.a)(r,[{key:"update",value:function(e,t){e=e||[];var r=D()(e,t);t&&((e=e.slice()).push(e[0]),r.push(r[0]));var n=this.getAttribute("position"),a=this.getAttribute("lineNormal"),i=this.getAttribute("lineMiter"),o=this.getAttribute("lineDistance"),l=this.getIndex();if(n&&e.length===n.count/2)n.needsUpdate=!0,a.needsUpdate=!0,i.needsUpdate=!0,l.needsUpdate=!0,o&&(o.needsUpdate=!0);else{var s=2*e.length,c=Math.max(0,6*(e.length-1));this.setAttribute("position",n=new b.e(new Float32Array(3*s),3)),this.setAttribute("lineNormal",a=new b.e(new Float32Array(2*s),2)),this.setAttribute("lineMiter",i=new b.e(new Float32Array(s),1)),this.setIndex(l=new b.e(new Uint16Array(c),1)),o&&this.setAttribute("lineDistance",o=new b.e(new Float32Array(s),1))}var h=0,u=0,d=0,f=l.array;e.forEach((function(e,t,r){var a=h;if(f[u++]=a+0,f[u++]=a+1,f[u++]=a+2,f[u++]=a+2,f[u++]=a+1,f[u++]=a+3,n.setXYZ(h++,e[0],e[1],0),n.setXYZ(h++,e[0],e[1],0),o){var i=t/(r.length-1);o.setX(d++,i),o.setX(d++,i)}}));var g=0,p=0;r.forEach((function(e){var t=e[0],r=e[1];a.setXY(g++,t[0],t[1]),a.setXY(g++,t[0],t[1]),i.setX(p++,-r),i.setX(p++,r)}))}}]),r}(b.f);var Y=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;Object(l.a)(this,r),n=t.call(this,e,new b.s);var a=new T;return n.strokeMesh=new b.B(a,new b.db({uniforms:{thickness:{value:1},color:{value:new b.i},opacity:{value:1}},transparent:!0,vertexShader:"\n// Basic three-line-2d vertex shader for the line stroke\n\nuniform float thickness;\nattribute float lineMiter;\nattribute vec2 lineNormal;\n\nvoid main() {\n  vec3 pointPos = position.xyz + vec3(lineNormal * thickness / 2.0 * lineMiter, 0.0);\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pointPos, 1.0);\n}\n",fragmentShader:"\n// Basic three-line-2d fragment shader for the line stroke\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main() {\n  gl_FragColor = vec4(color, opacity);\n}\n",side:b.n})),n.fillMesh=new b.B(a,new b.db({uniforms:{color:{value:new b.i},opacity:{value:1},gradientScale:{value:1},gradientPercent:{value:1},gradientExp:{value:1},maxY:{value:1}},transparent:!0,vertexShader:"\n// Vertex shader for the three-line-2d geometry that drops its down-facing vertices\n// to the bottom line, thereby creating a mesh covering the curve's fill area\n\nuniform int gradientScale; //0 = per value, 1 = max value\nuniform float maxY;\n\nattribute float lineMiter;\n\nvarying float varGradientTopY;\nvarying float varY;\n\nvoid main() {\n  // Drop all vertexes forming the bottom of triangles down to y:0\n  float y = lineMiter < 0.0 ? 0.0 : position.y;\n\n  // Pass along values for gradient distance calculation\n  varGradientTopY = gradientScale == 1 ? maxY : position.y;\n  varY = y;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x, y, 0.0, 1.0);\n}\n",fragmentShader:"\n// Fragment shader for the curve's fill area. Handles both solid color and gradient fill styles.\n\nuniform vec3 color;\nuniform float opacity;\nuniform float gradientPercent;\nuniform float gradientExp;\n\nvarying float varGradientTopY;\nvarying float varY;\n\nvoid main() {\n  float alpha = opacity;\n\n  // If a gradient is defined, calculate the varying opacity for the current y value\n  if (gradientPercent > 0.0) {\n    float gradPos = smoothstep(varGradientTopY - varGradientTopY * gradientPercent, varGradientTopY, varY);\n    alpha = opacity * pow(gradPos, max(gradientExp, 1.0));\n  }\n\n  gl_FragColor = vec4(color, alpha);\n}\n",side:b.n})),n.strokeMesh.frustumCulled=n.fillMesh.frustumCulled=!1,n.threeObject.add(n.strokeMesh,n.fillMesh),n}return Object(s.a)(r,[{key:"afterUpdate",value:function(){this.strokeMesh.geometry.update("step"===this.pathShape?function(e,t,r){for(var n=Math.max.apply(Math,e),a=[],i=0;i<e.length;i++){var o=t/(e.length-1),l=r/n;i>0&&a.push([i*o,e[i-1]*l]),a.push([i*o,e[i]*l])}return a}(this.values,this.width,this.height):function(e,t,r){for(var n=[],a=[],i=[],o=[],l=Math.max.apply(Math,e),s=[],c=1;c<e.length;c++){var h=t/(e.length-1),u=r/l;n[0]=(c-1)*h,n[1]=a[1]=e[c-1]*u,a[0]=i[0]=(c-.5)*h,i[1]=o[1]=e[c]*u,o[0]=c*h;for(var d=_()(n,a,i,o),f=1===c?0:1;f<d.length;f++)s.push(d[f])}return s}(this.values,this.width,this.height));var e=this.strokeWidth&&this.strokeColor&&this.strokeOpacity>0;if(e){var t=this.strokeMesh.material.uniforms;t.color.value.set(this.strokeColor),t.opacity.value=this.strokeOpacity,t.thickness.value=this.strokeWidth}this.strokeMesh.visible=!!e;var n=this.fillColor&&this.fillOpacity>0;if(n){var a=this.fillMesh.material.uniforms;a.color.value.set(this.fillColor),a.opacity.value=this.fillOpacity,a.gradientScale.value="max-value"===this.fillGradientScale?1:0,a.maxY.value=this.height,a.gradientPercent.value=this.fillGradientPercent||0,a.gradientExp.value=this.fillGradientExp||1}this.fillMesh.visible=!!n,this.fillMesh.renderOrder=this.strokeMesh.renderOrder=this.renderOrder||0,Object(f.a)(Object(g.a)(r.prototype),"afterUpdate",this).call(this)}}]),r}(u.d);function I(e,t,r){for(var n=new Float32Array(t.length),a=n.length;a--;){var i=a<e.length?e[a]:0;n[a]=i+(t[a]-i)*r}return n}Object.assign(Y.prototype,{width:500,height:100,strokeWidth:2,strokeColor:16777215,strokeOpacity:1,fillColor:16777215,fillOpacity:.5,fillGradientScale:"per-value",fillGradientPercent:1,fillGradientExp:3,pathShape:"curve"});var A=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).curveChildDef={key:"curve",facade:Y,values:[],transition:{values:{duration:1e3,easing:"easeInOutCubic",interpolate:I}}},n}return Object(s.a)(r,[{key:"afterUpdate",value:function(){if(this.offsetWidth){var e=this.curveChildDef;e.values=this.values,this.x=this.offsetLeft+this.clientLeft,this.y=-(this.offsetTop+this.clientTop+this.clientHeight),e.width=this.clientWidth,e.height=this.clientHeight,e.strokeColor=e.fillColor=this.color,e.renderOrder=this.flexNodeDepth,this.children=e}Object(f.a)(Object(g.a)(r.prototype),"afterUpdate",this).call(this)}}]),r}(u.b),G=Object(d.b)(A),U=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).font="https://fonts.gstatic.com/s/materialicons/v36/flUhRq6tzZclQEJ-Vdg-IuiaDsNa.woff",n}return Object(s.a)(r,[{key:"icon",set:function(e){this.text=e}},{key:"size",set:function(e){this.fontSize=e}}]),r}(d.a),E=r(9),X={x:0,y:0,z:0,rotateY:0},B=[{key:"colors",title:"Colors",desc:"Select a color from the cubes to show its value."},{key:"globe",title:"Globes",desc:"\"From this distant vantage point, the Earth might not seem of any particular interest. But for us, it's different. Consider again that dot. That's here. That's home. That's us.\n\nOn it everyone you love, everyone you know, everyone you ever heard of, every human being who ever was, lived out their lives.\n\nThe aggregate of our joy and suffering, thousands of confident religions, ideologies, and economic doctrines, every hunter and forager, every hero and coward, every creator and destroyer of civilization, every king and peasant, every young couple in love, every mother and father, hopeful child, inventor and explorer, every teacher of morals, every corrupt politician, every 'superstar,' every 'supreme leader,' every saint and sinner in the history of our species lived there - on a mote of dust suspended in a sunbeam.\"\n\n- Carl Sagan"},{key:"graph",title:"Graphs",desc:"Line graphs stacked in the depth dimension"}],F=[{title:"Day",url:"globe/texture_day.jpg"},{title:"Night",url:"globe/texture_night.jpg"},{title:"Blue Marble",url:"globe/texture_bluemarble.jpg"},{title:"Pumpkin",url:"globe/texture_pumpkin.jpg"}],W=[10053120,39270,26265,6723840,6684825],N=[{from:{scale:.001},to:{scale:1},easing:"easeOutExpo"},{from:{rotateY:0},to:{rotateY:2*Math.PI},duration:2e4,iterations:1/0}],V=-Math.PI/2.2,H=new b.K({roughness:.6,metalness:.8}),R=new b.ib;function L(e){return Object.assign({facade:d.a,padding:[5,10],borderRadius:5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:52479,pointerStates:{hover:{backgroundColor:39372}},transition:{z:!0,color:{interpolate:"color"},backgroundColor:{interpolate:"color"}},children:[e.icon?Object(E.jsx)(U,{icon:e.icon}):null,e.text]},e,{text:null,icon:null})}var Z=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(l.a)(this,r),n=t.call(this,e),F.forEach((function(e){e.texture||(e.texture=R.load(e.url))})),n.state={tab:"colors",globeTexture:F[0],cameraVrOrigin:X},n._onTabClick=function(e){n.setState({tab:e.target.id,selectedColor:null})},n._onSelectColor=function(e){n.setState({selectedColor:e})},n._onSelectGlobeTexture=function(e){n.setState({globeTexture:e})},n._randomizeGraphData=function(){n.setState({graphData:W.map((function(e){for(var t=[],r=36;r--;)t[r]=10*Math.random()+5;return{color:e,values:t}}))})},n._onRecenterViewClick=function(e){var t=e.target.getCameraFacade().threeObject.matrixWorld,r=new b.lb,a=new b.U,i=new b.o;t.decompose(r,a,new b.lb),i.setFromQuaternion(a),n.setState({cameraVrOrigin:{x:r.x,y:r.y,z:r.z,rotateY:i.y}})},n}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this._randomizeGraphData()}},{key:"render",value:function(){var e=this,t=this.props,r=this.state,n=t.vr,a=n?r.cameraVrOrigin:X,i=B.find((function(e){return e.key===r.tab}));return Object(E.jsx)("div",{children:Object(E.jsx)(u.a,{antialias:!0,backgroundColor:0,stats:t.stats,width:t.width,height:t.height,camera:{z:n?0:.5},lights:[{type:"point",x:1},{type:"point",x:-1}],objects:[Object.assign({},a,{key:"root",facade:u.b,children:[Object(E.jsxs)(d.a,{flexDirection:"column",alignItems:"center",fontSize:20,width:1280,scale:1/640,x:-1,y:.3,z:-1.4,children:[Object(E.jsxs)(d.a,{height:320,flexDirection:"row",children:[Object(E.jsxs)(d.a,{backgroundMaterial:H,backgroundColor:3355443,flexDirection:"column",alignItems:"stretch",width:320,rotateY:Math.PI/8,z:320*Math.sin(Math.PI/8),left:320-320*Math.cos(Math.PI/8),children:[Object(E.jsx)(d.a,{backgroundMaterial:H,backgroundColor:4473924,fontSize:30,padding:[10,20],children:i.title}),Object(E.jsx)(d.a,{padding:20,flex:1,overflow:"scroll",children:i.desc})]},"titleAndDesc"),Object(E.jsx)(d.a,{width:640,backgroundMaterial:H,backgroundColor:3355443},"backdrop"),Object(E.jsx)(d.a,{backgroundMaterial:H,backgroundColor:3355443,flexDirection:"column",width:320,rotateY:-Math.PI/8,padding:20,children:"colors"===i.key?null==r.selectedColor?null:[Object(E.jsx)(d.a,{margin:[20,0],children:"Selected Color:"},"title"),Object(E.jsxs)(d.a,{flex:1,flexDirection:"row",alignItems:"center",children:[Object(E.jsx)(d.a,{width:64,height:64,backgroundColor:r.selectedColor,borderWidth:2,borderColor:16777215,margin:[0,10,0,0],z:50},"swatch"),Object(E.jsx)(d.a,{fontSize:30,children:"#"+new b.i(r.selectedColor).getHexString()})]},"info"),L({key:"back",onClick:this._onSelectColor.bind(this,null),margin:[10,5],alignSelf:"flex-start",fontSize:24,icon:"arrow_back",text:"Back"})]:"globe"===i.key?[Object(E.jsx)(d.a,{margin:[20,0],children:"Choose a Texture:"},"title")].concat(F.map((function(t,n){return Object(E.jsxs)(d.a,{flexDirection:"row",alignItems:"center",padding:[4,0],color:16777215,pointerStates:{hover:{color:52479}},onClick:e._onSelectGlobeTexture.bind(e,t),children:[Object(E.jsx)(U,{icon:"radio_button_"+(t===r.globeTexture?"checked":"unchecked")})," ",t.title]},n)}))):"graph"===i.key?L({onClick:this._randomizeGraphData,fontSize:24,text:"Randomize Data"}):""},"options")]},"topRow"),Object(E.jsx)(d.a,{width:640,height:640,rotateX:V,borderWidth:3,borderColor:10066329,borderRadius:[0,0,10,10],children:"colors"===i.key?Object(E.jsx)(w,{flex:1,margin:180,z:120,selectedColor:r.selectedColor,onSelectColor:this._onSelectColor,animation:{from:{scale:.001},to:{scale:1},easing:"easeOutExpo"}}):"globe"===i.key?Object(E.jsx)(S,{flex:1,margin:150,z:120,rotateX:-V,scaleX:1,scaleZ:1,scaleY:r.globeTexture.url.indexOf("pumpkin")>-1?.6:1,texture:r.globeTexture.texture,animation:N,transition:{scaleY:!0,scaleX:!0,scaleZ:!0}}):"graph"===i.key?r.graphData.map((function(e,t,r){return Object(E.jsx)(G,{flex:1,margin:[10,0],color:e.color,values:e.values,animation:{from:{rotateX:0,z:0},to:{rotateX:-V,z:20*(r.length-t-1)},duration:750,delay:100*(r.length-t-1),easing:"easeOutExpo"}},t)})):""},"mainStage"),Object(E.jsx)(d.a,{flexDirection:"row",justifyContent:"center",width:640,z:640*-Math.sin(V),top:640*Math.cos(V)-640,rotateX:-Math.PI/4,children:B.map((function(t){var n=r.tab===t.key;return L({key:t.key,id:t.key,onClick:e._onTabClick,margin:[10,5],fontSize:15,backgroundColor:n?52479:6710886,pointerEvents:!n,z:n?10:0,text:t.title})}))},"tabs"),n?L({onClick:this._onRecenterViewClick,icon:"sync",text:"Recenter View",alignSelf:"center",backgroundColor:0,color:3355443,fontSize:24,rotateX:-Math.PI/4,pointerStates:{hover:{backgroundColor:6710886,color:16777215}}}):null]},"uiRoot")]})]})})}}]),r}(a.a.Component);var J=function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)("header",{className:"App-header",children:[Object(E.jsx)(Z,{width:"800",height:"600"}),Object(E.jsxs)("p",{children:["Edit ",Object(E.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(E.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Hello Telstra"})]})})},K=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,45)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),i(e),o(e)}))};o.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(J,{})}),document.getElementById("root")),K()}},[[44,1,2]]]);
//# sourceMappingURL=main.2b979467.chunk.js.map